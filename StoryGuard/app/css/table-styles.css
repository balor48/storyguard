/* Improved Table Styling for Story Database */

/* Base table styles */
.table-container table {
    width: 100% !important;
    border-collapse: collapse !important;
    margin-bottom: 20px !important;
    border-radius: 8px !important;
    overflow: hidden !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
}

/* Table header */
.table-container thead {
    background-color: #3498db !important;
    color: white !important;
}

.table-container thead th {
    padding: 15px !important;
    text-align: center !important;
    font-weight: 600 !important;
    position: sticky !important;
    top: 0 !important;
    z-index: 10 !important;
    background-color: #3498db !important;
}

/* Sortable headers */
.table-container th.sortable {
    cursor: pointer !important;
    user-select: none !important;
    position: relative !important;
}

.table-container th.sortable:hover {
    background-color: #2980b9 !important;
}

/* Sort indicators */
.table-container th.sort-asc::after,
.table-container th.sort-desc::after {
    content: '' !important;
    position: absolute !important;
    right: 8px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    width: 0 !important;
    height: 0 !important;
    border-left: 5px solid transparent !important;
    border-right: 5px solid transparent !important;
}

.table-container th.sort-asc::after {
    border-bottom: 5px solid white !important;
}

.table-container th.sort-desc::after {
    border-top: 5px solid white !important;
}

/* Table body */
.table-container tbody tr {
    border-bottom: 1px solid #ddd !important;
    transition: background-color 0.2s ease !important;
}

/* Alternating row colors */
.table-container tbody tr:nth-child(even) td {
    background-color: #f5f5f5 !important;
}

.table-container tbody tr:hover td {
    background-color: #e3f2fd !important;
}

/* Table cells */
.table-container td {
    padding: 12px 15px !important;
    vertical-align: middle !important;
    background-color: white !important;
}

.table-container tbody tr:nth-child(even) td {
    background-color: #f5f5f5 !important;
}

.table-container tbody tr:hover td {
    background-color: #e3f2fd !important;
}

/* Consistent column widths */
/* Character table */
.table-container #characterTable th:nth-child(1) { width: 60px !important; } /* Image */
.table-container #characterTable th:nth-child(2) { width: 80px !important; } /* Title */
.table-container #characterTable th:nth-child(3) { width: 120px !important; } /* First Name */
.table-container #characterTable th:nth-child(4) { width: 120px !important; } /* Last Name */
.table-container #characterTable th:nth-child(5) { width: 80px !important; } /* Sex */
.table-container #characterTable th:nth-child(6) { width: 100px !important; } /* Race */
.table-container #characterTable th:nth-child(7) { width: 120px !important; } /* Series */
.table-container #characterTable th:nth-child(8) { width: 120px !important; } /* Book */
.table-container #characterTable th:nth-child(9) { width: 150px !important; } /* Actions */

/* Location table */
.table-container #locationTable th:nth-child(1) { width: 150px !important; } /* Name */
.table-container #locationTable th:nth-child(2) { width: 100px !important; } /* Type */
.table-container #locationTable th:nth-child(3) { width: 100px !important; } /* Size/Scale */
.table-container #locationTable th:nth-child(4) { width: 120px !important; } /* Series */
.table-container #locationTable th:nth-child(5) { width: 120px !important; } /* Book */
.table-container #locationTable th:nth-child(6) { width: 150px !important; } /* Actions */

/* Plot table */
.table-container #plotTable th:nth-child(1) { width: 150px !important; } /* Title */
.table-container #plotTable th:nth-child(2) { width: 100px !important; } /* Type */
.table-container #plotTable th:nth-child(3) { width: 120px !important; } /* Series */
.table-container #plotTable th:nth-child(4) { width: 120px !important; } /* Book */
.table-container #plotTable th:nth-child(5) { width: 80px !important; } /* Chapter */
.table-container #plotTable th:nth-child(6) { width: 100px !important; } /* Status */
.table-container #plotTable th:nth-child(7) { width: 150px !important; } /* Actions */

/* World Element table */
.table-container #worldElementTable th:nth-child(1) { width: 300px !important; } /* Name */
.table-container #worldElementTable th:nth-child(2) { width: 200px !important; } /* Category */
.table-container #worldElementTable th:nth-child(3) { width: 250px !important; } /* Series */
.table-container #worldElementTable th:nth-child(4) { width: 200px !important; } /* Actions */

/* Special overrides for worldbuilding table */
#worldbuilding-tab .table-container #worldElementTable th:nth-child(1) { width: 300px !important; } /* Name */
#worldbuilding-tab .table-container #worldElementTable th:nth-child(2) { width: 200px !important; } /* Category */
#worldbuilding-tab .table-container #worldElementTable th:nth-child(3) { width: 250px !important; } /* Series */
#worldbuilding-tab .table-container #worldElementTable th:nth-child(4) { width: 200px !important; } /* Actions */

/* Actions column styling */
.table-container .actions-column {
    white-space: nowrap !important;
    text-align: center !important;
}

.table-container .actions-column button {
    margin: 0 2px !important;
}

/* Empty table message */
.table-container tbody tr td[colspan] {
    text-align: center !important;
    padding: 20px !important;
    font-style: italic !important;
    color: #777 !important;
}

/* Image cells */
.table-container td img {
    width: 40px !important;
    height: 40px !important;
    object-fit: cover !important;
    border-radius: 50% !important;
    display: block !important;
    margin: 0 auto !important;
}

/* Truncate long text */
.table-container td.truncate {
    max-width: 200px !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
}

/* Dark mode support */
.dark-mode .table-container thead {
    background-color: #2c3e50 !important;
}

.dark-mode .table-container th.sortable:hover {
    background-color: #34495e !important;
}

.dark-mode .table-container tbody tr {
    border-bottom: 1px solid #444 !important;
}

.dark-mode .table-container tbody tr td {
    background-color: #222 !important;
}

.dark-mode .table-container tbody tr:nth-child(even) td {
    background-color: #333 !important;
}

.dark-mode .table-container tbody tr:hover td {
    background-color: #3a3a3a !important;
}

.dark-mode .table-container tbody tr td[colspan] {
    color: #aaa !important;
}

/* Responsive tables */
@media (max-width: 768px) {
    .table-container table {
        display: block !important;
        overflow-x: auto !important;
        white-space: nowrap !important;
    }
}